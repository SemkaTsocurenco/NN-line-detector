# Main Configuration File
# This file contains references to specialized configs and basic settings

# Specialized configuration files (loaded by respective modules)
# - config/line_fitting.yaml: RANSAC line fitting parameters
# - config/postprocess.yaml: Detection postprocessing and geometry mapping
# - config/renderer.yaml: Visual rendering parameters
# - config/nn_engine.yaml: Neural network engine settings
# - config/protocol.yaml: TCP protocol parameters
# - config/video_capture.yaml: Video capture settings

# RTSP/Video settings (see also: config/video_capture.yaml)
rtsp:
  uri: rtsp://239.0.0.1:5000
  latency_ms: 100
  drop_old_frames: true
  gst_pipeline: ''
  enabled: true

# Neural Network settings (see also: config/nn_engine.yaml)
nn:
  model_path: NN/model_traced.pt
  device: cpu
  input_size:
  - 384
  - 384
  num_classes: 25
  class_names:
    '0': background
    '1': box_junction
    '2': crosswalk
    '3': stop_line
    '4': solid_single_white
    '5': solid_single_yellow
    '6': solid_single_red
    '7': solid_double_white
    '8': solid_double_yellow
    '9': dashed_single_white
    '10': dashed_single_yellow
    '11': left_arrow
    '12': straight_arrow
    '13': right_arrow
    '14': left_straight_arrow
    '15': right_straight_arrow
    '16': channelizing_line
    '17': motor_prohibited
    '18': slow
    '19': motor_priority_lane
    '20': motor_waiting_zone
    '21': left_turn_box
    '22': motor_icon
    '23': bike_icon
    '24': parking_lot

# Postprocessing (see also: config/postprocess.yaml)
postprocess:
  confidence_threshold: 0.71
  min_area: 150.0
  merge_iou_threshold: 0.5

# Line fitting (see also: config/line_fitting.yaml)
line_fitting:
  enabled: true
  split_by_center: true
  poly_degree: 2
  ransac_iterations: 100
  inlier_threshold: 5.0
  min_inlier_ratio: 0.3
  min_points: 20
  split_margin: 20

# TCP communication (see also: config/protocol.yaml)
tcp:
  host: 127.0.0.1
  port: 9000
  reconnect_delay_s: 2.0
  drop_if_disconnected: true

# Camera calibration
camera:
  calibration:
    fx: 12.0
    fy: 12.0
    cx: 0.0
    cy: 0.0
    height_m: 1.0
    pitch_deg: 0.0

# Logging
logging:
  level: INFO
  log_file: ''

# Rendering (see also: config/renderer.yaml)
render:
  enabled: true
  show_masks: true
